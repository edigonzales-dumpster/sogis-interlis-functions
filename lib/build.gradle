plugins {
    id 'java-library'
}

sourceCompatibility = '11'
targetCompatibility = '11'

repositories {
    mavenCentral()
    maven { url "http://jars.interlis.ch"; allowInsecureProtocol true } 
}

configurations.all {
    resolutionStrategy {
        //force 'ch.interlis:iox-ili:1.21.6+'
        force 'ch.interlis:ili2c-tool:5.2.1+'
        force 'ch.interlis:ili2c-core:5.2.1+'
        force 'ch.ehi:ehibasics:1.4.0'

        cacheDynamicVersionsFor 0, 'seconds'
        cacheChangingModulesFor 0, 'seconds'
    }
}

dependencies {
    api 'ch.interlis:iox-ili:1.21.6+'
    api 'ch.interlis:ili2c-tool:5.2.1+'
    api 'ch.interlis:ili2c-core:5.2.1+'
    api 'ch.ehi:ehibasics:1.4.0'
    
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.2'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'
}

tasks.named('test') {
    useJUnitPlatform()
}
